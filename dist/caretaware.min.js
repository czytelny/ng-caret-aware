/**
 * Copyright (c) 2015, Leo Di Donato <leodidonato@gmail.com>
 * ng-caret-aware.js - AngularJS directive for caret aware elements
 * @version v0.1.1
 * @link http://github.com/leodido/ng-caret-aware
 * @license MIT
 */
(function(){function d(){}
d.prototype.controller=function(a,g,k,c){var b=g[0],h,e=this;e.a=function(){return h};e.c=function(f){if(b.createTextRange){var l=b.createTextRange();l.move('character',f);l.select()}else c(function(){b.focus()},0,!1),angular.isDefined(b.selectionStart)&&b.setSelectionRange(f,f);a[e.a()]=f};e.b=function(){if('selectionStart'in b)return b.selectionStart;if(document.selection){b.focus();var a=document.selection.createRange(),c=document.selection.createRange().text.length;a.moveStart('character',-b.value.length);
return a.text.length-c}};h=k.caretAware||'caret';a[h]=0};d.prototype.controller.$inject=['$scope','$element','$attrs','$timeout'];d.prototype.link=function(a,g,k,c){g.bind('keydown keyup click',function(){a.$apply(function(){a[c.a()]=c.b()})});a.$watch(function(){return a[c.a()]},function(a){c.c(~~a)})};angular.module('leodido.caretAware',[]).directive('caretAware',function(){var a=new d;return{restrict:'A',require:'caretAware',controller:a.controller,link:a.link}});})();
